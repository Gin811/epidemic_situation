"use strict";(self["webpackChunkepidemic_management_vue"]=self["webpackChunkepidemic_management_vue"]||[]).push([[33],{6033:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"login_context"},[e._m(0),s("el-form",{ref:"editFormRef",staticClass:"login_box",attrs:{model:e.ruleForm,rules:e.editFormRules}},[s("el-form-item",{attrs:{prop:"mobile"}},[s("el-input",{attrs:{"prefix-icon":"el-icon-user"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.login()}}},[e._v("登录")]),s("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login_logo"},[r("img",{attrs:{src:s(637)}})])}],i=(s(1703),{name:"LoginView",data(){const e=(e,t,s)=>{const r=/^1[345789]\d{9}$/;if(r.test(t))return s();s(new Error("请输入合法的手机号码"))};return{user:{},ruleForm:{mobile:"",password:""},editFormRules:{mobile:[{validator:e,trigger:"blur"}]}}},methods:{login(){this.$refs["editFormRef"].validate((e=>{if(!e)return console.log("error submit!!"),!1;{const e=this;this.$axios.post("/adminLogin",this.ruleForm).then((t=>{if(1e4!=t.data.status)this.$message.error("登录失败");else{this.$message.success("登录成功！"),this.user=t.data.data;const s=t.data.data.token;e.$store.commit("SET_TOKEN",s),window.sessionStorage.setItem("token",s),e.$store.commit("setUserName",this.user.username),e.$store.commit("setStatus",this.user.status),e.$store.commit("setUserInfo",this.user),e.$store.commit("SET_USERINFO",this.user),window.sessionStorage.setItem("UserInfo",JSON.stringify(this.user)),e.$router.push("/home")}}))}}))},resetForm(){this.$refs["editFormRef"].resetFields()}}}),n=i,l=s(1001),a=(0,l.Z)(n,r,o,!1,null,"2896c732",null),m=a.exports},637:function(e,t,s){e.exports=s.p+"img/Logo2.bd2c1156.png"}}]);
//# sourceMappingURL=33.8177f4b5.js.map