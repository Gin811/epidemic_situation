"use strict";(self["webpackChunkepidemic_management_vue"]=self["webpackChunkepidemic_management_vue"]||[]).push([[33],{6033:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("div",{staticClass:"login_context"},[e._m(0),r("el-form",{ref:"editFormRef",staticClass:"login_box",attrs:{model:e.ruleForm,rules:e.editFormRules}},[r("el-form-item",{attrs:{prop:"mobile"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-user"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.login()}}},[e._v("登录")]),r("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)])},s=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login_logo"},[o("img",{attrs:{src:r(637)}})])}],i=(r(4916),r(7601),r(1703),r(8862),{name:"LoginView",data:function(){var e=function(e,t,r){var o=/^1[345789]\d{9}$/;if(o.test(t))return r();r(new Error("请输入合法的手机号码"))};return{user:{},ruleForm:{mobile:"",password:""},editFormRules:{mobile:[{validator:e,trigger:"blur"}]}}},methods:{login:function(){var e=this;this.$refs["editFormRef"].validate((function(t){if(!t)return console.log("error submit!!"),!1;var r=e;e.$axios.post("/adminLogin",e.ruleForm).then((function(t){if(1e4!=t.data.status)e.$message.error("登录失败");else{e.$message.success("登录成功！"),e.user=t.data.data;var o=t.data.data.token;r.$store.commit("SET_TOKEN",o),window.sessionStorage.setItem("token",o),r.$store.commit("setUserName",e.user.username),r.$store.commit("setStatus",e.user.status),r.$store.commit("setUserInfo",e.user),r.$store.commit("SET_USERINFO",e.user),window.sessionStorage.setItem("UserInfo",JSON.stringify(e.user)),r.$router.push("/home")}}))}))},resetForm:function(){this.$refs["editFormRef"].resetFields()}}}),n=i,a=r(1001),l=(0,a.Z)(n,o,s,!1,null,"2896c732",null),m=l.exports},637:function(e,t,r){e.exports=r.p+"img/Logo2.bd2c1156.png"}}]);
//# sourceMappingURL=33-legacy.e09752f4.js.map